@import '../../node_modules/bootstrap/scss/functions';

@import '../../node_modules/bootstrap/scss/variables';

$new-breakpoints: (
        xxxl:1600px,
        xxxxl:1800px,
        //xxxxx:2000px,
);

$grid-breakpoints: map-merge($grid-breakpoints, $new-breakpoints);

$new-container-max-widths: (
        xxxl:1520px,
        xxxxl:1720px,
        //xxxxxl:1920px
);

$container-max-widths: map-merge($container-max-widths, $new-container-max-widths);

.custom-tooltip {
  --bs-tooltip-bg: var(--bs-danger) !important;
  --bs-tooltip-color: var(--bs-white) !important;
  --bs-tooltip-opacity: 1 !important;
}

@import "../../node_modules/bootstrap/scss/bootstrap";


// Print orientation is handled dynamically by JavaScript
// Default is portrait, landscape is added when additional columns are shown

// Print styles
@media print {
  // Hide navigation and all UI elements except the table
  .float-end,
  .alert,
  .card,
  .modal,
  .input-group,
  #input_form,
  #bottom_nav,
  #btn_go,
  h1,
  #allocation_results,
  #autoAllocationBody,
  #toggleColumns,
  #toggleSplitJoin,
  #copyTable,
  #generateMirror {
    display: none !important;
  }

  // Create a print header with the network info
  body::before {
    content: attr(data-print-title) " - Visual Subnet Calculator";
    display: block !important;
    font-size: 18pt !important;
    font-weight: bold !important;
    margin-bottom: 10pt !important;
    font-family: monospace !important;
    text-align: center !important;
  }

  // Ensure the table is visible and styled
  #calc {
    display: table !important;
    width: 100% !important;
    margin: 20pt 0 !important;
    font-size: 10pt !important;
    border-collapse: collapse !important;
    page-break-inside: auto !important;
  }

  #calc thead {
    display: table-header-group !important;
  }

  #calc tbody {
    display: table-row-group !important;
  }

  #calc tr {
    display: table-row !important;
    page-break-inside: avoid !important;
    // Preserve row background colors in print
    print-color-adjust: exact !important;
    -webkit-print-color-adjust: exact !important;
  }

  // Hide Usable IPs column by default in print
  #useableHeader,
  .row_usable {
    display: none !important;
  }

  // Show essential columns always
  #subnetHeader,
  #rangeHeader,
  #hostsHeader,
  #noteHeader,
  .row_address,
  .row_range,
  .row_hosts,
  .note {
    display: table-cell !important;
    padding: 4pt 8pt !important;
    border: 1px solid #000 !important;
    text-align: left !important;
  }

  // Hide additional columns by default in print
  #ipHeader,
  #cidrHeader,
  #maskHeader,
  #typeHeader,
  .row_ip,
  .row_cidr,
  .row_mask,
  .row_type {
    display: none !important;
  }

  // Show additional columns when toggled on (including Usable IPs)
  body.show-additional-columns {
    #ipHeader,
    #cidrHeader,
    #maskHeader,
    #typeHeader,
    #useableHeader,
    .row_ip,
    .row_cidr,
    .row_mask,
    .row_type,
    .row_usable {
      display: table-cell !important;
      padding: 4pt 8pt !important;
      border: 1px solid #000 !important;
      text-align: left !important;
    }
  }

  // Hide split/join columns
  .split,
  .join,
  td.split,
  td.join {
    display: none !important;
  }

  // Hide the split/join text in the header
  // The entire div containing Split/Join needs to be hidden
  .split-join-header {
    display: none !important;
  }

  // Style the note inputs for printing
  #calc input[type="text"] {
    border: none !important;
    background: transparent !important;
    padding: 0 !important;
    margin: 0 !important;
    font-family: monospace !important;
    font-size: 10pt !important;
    width: auto !important;
    print-color-adjust: exact !important;
    -webkit-print-color-adjust: exact !important;
  }

  // Basic text color settings
  * {
    background: white !important;
    color: black !important;
  }

  // Ensure page margins
  @page {
    margin: 0.75in;
  }

  // Add URL footer only at the end of the document
  .print-footer {
    display: none !important; // Hidden in normal view
  }

  @media print {
    .print-footer {
      display: block !important;
      margin-top: 40pt !important;
      padding-top: 10pt !important;
      border-top: 1px solid #ccc !important;
      font-size: 9pt !important;
      color: #666 !important;
      font-family: monospace !important;
      page-break-inside: avoid !important; // Keep footer together
      page-break-before: auto !important;
    }

    // Ensure rows don't break across pages
    #calcbody tr {
      page-break-inside: avoid !important;
    }

    // Remove link underlines and formatting in print
    .row_address a {
      text-decoration: none !important;
      color: black !important;
    }
  }
}
